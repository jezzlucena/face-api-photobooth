(this["webpackJsonpface-api-photobooth"]=this["webpackJsonpface-api-photobooth"]||[]).push([[0],{100:function(e,t){},101:function(e,t){},102:function(e,t){},111:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),l=a.n(o),i=(a(90),a(18)),c=a(19),s=a(21),u=a(20),m=a(22),d=(a(91),a(37)),h=a.n(d),p=(a(93),a(38)),E="/models",f=1280,b=720,g=400,v=400,y=new p.a({inputSize:256,scoreThreshold:.5}),k={video:{facingMode:"user",width:{ideal:f},height:{ideal:b},frameRate:{ideal:10,max:60}},audio:!1};function w(e){var t,a,n,r,o,l,i,c=null,s=[];function u(){e.background(255),e.image(t,0,0),e.fill(0,0,0,0),n&&e.filter(n)}function m(e){o&&(s=e),c=!0}function d(){if(a){var t=e.windowWidth/f,n=e.windowHeight/b,r=Math.max(t,n);a.style("transform","scale(".concat(r,")"))}}e.windowResized=function(){return h.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:d();case 1:case"end":return e.stop()}}))},e.setup=function(){return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(p.d(E));case 2:return n.next=4,h.a.awrap(p.c(E));case 4:t=e.createCapture(k,(function(n){t.id("video_element"),t.hide();var r=document.getElementById("video_element"),o=r.videoWidth,l=r.videoHeight;g=v=v*l/b,f=o,b=l,t.size(f,b),(a=e.createCanvas(f,b)).id("canvas_element"),c=!0,d()}));case 5:case"end":return n.stop()}}))},e.myCustomRedrawAccordingToNewPropsHandler=function(t){t.onTakePicture&&(i=t.onTakePicture),r=t.capturing,o=t.detecting,l=t.filter,s=[],n=function(){switch(l){case"THRESHOLD":return e.THRESHOLD;case"GRAY":return e.GRAY;case"INVERT":return e.INVERT;case"OPAQUE":return e.OPAQUE;case"ERODE":return e.ERODE;default:return}}()},e.draw=function(){var n,l,d;return h.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(t&&a&&r){h.next=2;break}return h.abrupt("return");case 2:if(e.translate(f,0),e.scale(-1,1),u(),o){h.next=7;break}return h.abrupt("return");case 7:if(n=1,s.length>1&&(n=2),l={_width:g*n,_height:v,_x:f/2-g*n/2,_y:b/2-v/2},e.stroke("white"),e.strokeWeight(4),e.rect(l._x,l._y,l._width,l._height),d=s.reduce((function(t,a){return e.strokeWeight(2),e.rect(a.detection.box._x,a.detection.box._y,a.detection.box._width,a.detection.box._height),t&&a.expressions.happy>=.9&&l._x<a.detection.box._x&&l._y<a.detection.box._y&&l._x+l._width>a.detection.box._x+a.detection.box._width&&l._y+l._height>a.detection.box._y+a.detection.box._height}),c),!(s.length&&d&&r)){h.next=19;break}return s=[],u(),i(document.getElementById("canvas_element").toDataURL()),h.abrupt("return");case 19:c&&(c=!1,p.b(t.id(),y).withFaceExpressions().then((function(e){return m(e)})));case 20:case"end":return h.stop()}}))}}var C=a(64),O=a.n(C),x=(a(111),a(158)),A=a(119),S=a(147),N=a(43),j=a.n(N),D=a(67),R=a.n(D),_=a(65),U=a.n(_),P=a(55),I=a.n(P),T=a(44),F=a.n(T),H=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this;return e=this.props.error?r.a.createElement("div",null,r.a.createElement(U.a,{color:"secondary",style:{fontSize:40}}),r.a.createElement("h3",null,"Oops..."),r.a.createElement("div",{className:"UploadDialog-text"},"There was an error uploading your photo to the cloud."),r.a.createElement("div",null,r.a.createElement(A.a,{className:"UploadDialog-button",variant:"contained",color:"default",onClick:function(){return t.props.onReset()},startIcon:r.a.createElement(I.a,null)},"Cancel"),r.a.createElement(A.a,{className:"UploadDialog-button",variant:"contained",color:"primary",onClick:function(){return t.props.onRetry()},startIcon:r.a.createElement(j.a,null)},"Try Again"))):this.props.imageUrl?r.a.createElement("div",null,r.a.createElement(O.a,{value:this.props.imageUrl}),r.a.createElement("h3",null,"Your photo has been uploaded!"),r.a.createElement("div",{className:"UploadDialog-text"},"Point your phone camera at the QR Code above to download it."),r.a.createElement("div",null,r.a.createElement(A.a,{className:"UploadDialog-button",variant:"contained",color:"default",target:"_blank",href:this.props.imageUrl,startIcon:r.a.createElement(R.a,null)},"Download"),r.a.createElement(A.a,{className:"UploadDialog-button",variant:"contained",color:"primary",onClick:function(){return t.props.onReset()},startIcon:r.a.createElement(F.a,null)},"All Done"))):r.a.createElement("div",null,r.a.createElement(S.a,null),r.a.createElement("h3",null,"Uploading..."),r.a.createElement("div",{className:"UploadDialog-text"},"Your download link will appear in a few seconds."),r.a.createElement(A.a,{className:"UploadDialog-button",variant:"contained",color:"default",onClick:function(){return t.props.onReset()},startIcon:r.a.createElement(I.a,null)},"Cancel")),r.a.createElement(x.a,{open:this.props.open,onClose:function(){return t.props.onReset()}},r.a.createElement("div",{className:"UploadDialog-content"},e))}}]),t}(r.a.Component),z=a(68),M=a.n(z),B=(a(114),a(151)),W=a(148),G=a(150),J=a(46),L=a.n(J),Y=a(69),Q=a.n(Y),V=a(70),q=a.n(V),K=a(71),X=a.n(K),Z=a(72),$=a.n(Z),ee=["NO FILTER","THRESHOLD","GRAY","OPAQUE","INVERT","ERODE"],te="STAND_BY",ae="DETECTING",ne="FINISHED",re="UPLOAD",oe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={currentFilter:0,mode:te},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleUpload",value:function(){var e=this;fetch("https://face-api-photobooth.herokuapp.com/upload",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({base64Image:this.state.imageData})}).then((function(e){return e.json()})).then((function(t){return e.setState({imageUrl:t.imageUrl})})).catch((function(t){return e.setState({uploadError:!0})})),this.setState({mode:re,uploadError:!1,imageUrl:null})}},{key:"handlePreviousFilter",value:function(){this.setState({currentFilter:(this.state.currentFilter+ee.length-1)%ee.length})}},{key:"handleNextFilter",value:function(){this.setState({currentFilter:(this.state.currentFilter+1)%ee.length})}},{key:"handleReset",value:function(){this.setState({mode:te,currentFilter:0,uploadError:!1,imageUrl:null})}},{key:"renderActionButtons",value:function(){var e=this;switch(this.state.mode){case te:return r.a.createElement(A.a,{className:"PhotoboothContainer-button",variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({mode:ae})},startIcon:r.a.createElement(L.a,null)},"Take a photo");case ae:return r.a.createElement(G.a,{size:"large",variant:"contained","aria-label":"large contained button group"},r.a.createElement(A.a,{color:"default",onClick:function(){return e.handlePreviousFilter()}},r.a.createElement(Q.a,null)),r.a.createElement(A.a,{onClick:function(){e.setState({currentFilter:0})},style:{width:200}},ee[this.state.currentFilter]),r.a.createElement(A.a,{onClick:function(){return e.handleNextFilter()}},r.a.createElement(q.a,null)));case ne:return r.a.createElement("div",null,r.a.createElement(A.a,{className:"PhotoboothContainer-button",variant:"contained",color:"default",size:"large",onClick:function(){e.setState({mode:ae})},startIcon:r.a.createElement(X.a,null)},"Retake"),r.a.createElement(A.a,{className:"PhotoboothContainer-button",variant:"contained",color:"primary",size:"large",onClick:function(){return e.handleUpload()},startIcon:r.a.createElement(j.a,null)},"Upload Photo"));default:return null}}},{key:"render",value:function(){var e=this,t=[ne,re].includes(this.state.mode)?"finished":"";return r.a.createElement("div",{className:"PhotoboothContainer"},r.a.createElement("div",{className:"PhotoboothContainer-wrapper ".concat(t)},r.a.createElement(M.a,{sketch:w,capturing:[te,ae].includes(this.state.mode),detecting:this.state.mode===ae,filter:ee[this.state.currentFilter],onTakePicture:function(t){e.setState({imageData:t,mode:ne})}})),r.a.createElement("div",{className:"PhotoboothContainer-actions"},this.renderActionButtons()),this.state.mode===ae&&r.a.createElement(W.a,{className:"PhotoboothContainer-instructions"},"Smile within the frame to take a picture"),r.a.createElement(H,{open:this.state.mode===re,imageUrl:this.state.imageUrl,error:this.state.uploadError,onRetry:function(){return e.handleUpload()},onReset:function(){return e.handleReset()}}),[ne,ae].includes(this.state.mode)&&r.a.createElement(B.a,{className:"PhotoboothContainer-close",color:"secondary",onClick:function(){return e.handleReset()}},r.a.createElement($.a,null)))}}]),t}(r.a.Component),le=(a(115),a(152)),ie=a(153),ce=a(120),se=a(159),ue=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(x.a,{open:this.props.open,maxWidth:"md",fullWidth:!0,onClose:this.props.onClose},r.a.createElement("div",{className:"AboutDialog-content"},r.a.createElement(L.a,{color:"primary",style:{fontSize:100}}),r.a.createElement("h1",{style:{marginBottom:40,marginTop:0}},"Photobooth"),r.a.createElement("div",{className:"AboutDialog-text"},r.a.createElement("p",null,"Photobooth is web application that recognizes a person's facial expressions and takes a photo once the user smiles within a bounding box in the captured image."),r.a.createElement("p",null,"A set of open-source frameworks, tools, and APIs were used to achieve this. Here is a list of some of these solutions:"),r.a.createElement(le.a,{container:!0,justify:"center",spacing:2,style:{textAlign:"center"}},r.a.createElement(le.a,{xs:12,sm:6,item:!0},r.a.createElement(W.a,{className:"AboutDialog-list"},r.a.createElement("h3",null,"Front End"),r.a.createElement(ie.a,null,r.a.createElement(ce.a,null,r.a.createElement(se.a,{primary:"React",secondary:"Facebook's JavaScript library for building user interfaces"})),r.a.createElement(ce.a,null,r.a.createElement(se.a,{primary:"Sass",secondary:"A preprocessor scripting language that is interpreted or compiled into Cascading Style Sheets (CSS)."})),r.a.createElement(ce.a,null,r.a.createElement(se.a,{primary:"Material-UI",secondary:"Google's solution that provides React components for faster and easier web development."})),r.a.createElement(ce.a,null,r.a.createElement(se.a,{primary:"p5.js",secondary:"A JS client-side library for creating graphic and interactive experiences based on the core principles of Processing."})))),r.a.createElement(W.a,{className:"AboutDialog-list"},r.a.createElement("h3",null,"Machine Learning"),r.a.createElement(ie.a,null,r.a.createElement(ce.a,null,r.a.createElement(se.a,{primary:"TensorFlow.js",secondary:"A library for machine learning in JavaScript."})),r.a.createElement(ce.a,null,r.a.createElement(se.a,{primary:"face-api.js",secondary:"Face recognition API for the browser built on top of TensorFlow.js."}))))),r.a.createElement(le.a,{xs:12,sm:6,item:!0},r.a.createElement(W.a,{className:"AboutDialog-list"},r.a.createElement("h3",null,"Back End"),r.a.createElement(ie.a,null,r.a.createElement(ce.a,null,r.a.createElement(se.a,{primary:"Node.js",secondary:"An open-source, cross-platform, server-side JavaScript runtime environment."})),r.a.createElement(ce.a,null,r.a.createElement(se.a,{primary:"Express",secondary:"A web application framework for Node.js designed for building web applications and APIs."})))),r.a.createElement(W.a,{className:"AboutDialog-list"},r.a.createElement("h3",null,"Services"),r.a.createElement(ie.a,null,r.a.createElement(ce.a,null,r.a.createElement(se.a,{primary:"GitHub",secondary:"A global software development version control provider using Git."})),r.a.createElement(ce.a,null,r.a.createElement(se.a,{primary:"AWS / S3",secondary:"A service offered by Amazon Web Services that provides object storage through a web service interface."})),r.a.createElement(ce.a,null,r.a.createElement(se.a,{primary:"Heroku",secondary:"A cloud platform as a service supporting several programming languages."}))))))),r.a.createElement(A.a,{className:"AboutDialog-button",variant:"contained",color:"primary",onClick:function(){return e.props.onClose()},startIcon:r.a.createElement(F.a,null)},"Done")))}}]),t}(r.a.Component),me=(a(116),a(157)),de=a(155),he=a(73),pe=a.n(he),Ee=a(160),fe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={menuAnchor:!1},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleOpenMenu",value:function(e){this.setState({menuAnchor:e.currentTarget})}},{key:"handleCloseMenu",value:function(){this.setState({menuAnchor:null})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(B.a,{className:"AppMenu-button",color:"default","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(t){return e.handleOpenMenu(t)}},r.a.createElement(pe.a,null)),r.a.createElement(me.a,{id:"simple-menu",anchorEl:this.state.menuAnchor,keepMounted:!0,style:{transform:"translate(35px, 35px)"},open:Boolean(this.state.menuAnchor),onClose:function(){return e.handleCloseMenu()}},r.a.createElement(Ee.a,{title:"Coming Soon",placement:"right"},r.a.createElement(de.a,{"aria-label":"admin",style:{color:"#ccc"},onClick:function(){return e.handleCloseMenu()}},"Sign In")),r.a.createElement(de.a,{onClick:this.props.onOpenAbout},"About Photobooth")))}}]),t}(r.a.Component),be=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={aboutDialogOpen:!1},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(oe,null),r.a.createElement(fe,{onOpenAbout:function(){return e.setState({aboutDialogOpen:!0})}}),r.a.createElement(ue,{onClose:function(){return e.setState({aboutDialogOpen:!1})},open:this.state.aboutDialogOpen}))}}]),t}(r.a.Component);l.a.render(r.a.createElement(be,null),document.getElementById("root"))},85:function(e,t,a){e.exports=a(117)},90:function(e,t,a){},91:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.56130283.chunk.js.map